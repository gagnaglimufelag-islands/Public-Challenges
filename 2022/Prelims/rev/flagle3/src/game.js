/*
 * Copyright (c) 2022, Kristinn Vikar. <kristinn@vikar.is>
 *
 * SPDX-License-Identifier: BSD-2-Clause
 * 
 * Super Secure Indexed Bloom Filter
 */

const BITS_PER_KEY=6,ARRAY_LENGTH=1024,filter=[0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1];function HashKey(e){for(var t=new Array(BITS_PER_KEY),n=0;n<BITS_PER_KEY;n++)t[n]=0;const o=MD5(e);for(var a=0;a<o.length*BITS_PER_KEY;a++){var r=o.charCodeAt(a%o.length);r>127&&(r%=128),t[a%BITS_PER_KEY]=1+t[a%BITS_PER_KEY]*r%ARRAY_LENGTH}return t}function AddToFilter(e,t){t=t||0;for(var n=HashKey(e),o=0;o<BITS_PER_KEY;o++)filter[(t+n[o])%ARRAY_LENGTH]=1}function CheckInFilter(e,t){t=t||0;for(var n=HashKey(e),o=0;o<BITS_PER_KEY;o++)if(0==filter[(t+n[o])%ARRAY_LENGTH])return!1;return!0}const MD5=function(e){function t(e,t){var n,o,a,r,i;return a=2147483648&e,r=2147483648&t,i=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^i^a^r:n|o?1073741824&i?3221225472^i^a^r:1073741824^i^a^r:i^a^r}function n(e,n,o,a,r,i,s){return e=t(e,t(t(n&o|~n&a,r),s)),t(e<<i|e>>>32-i,n)}function o(e,n,o,a,r,i,s){return e=t(e,t(t(n&a|o&~a,r),s)),t(e<<i|e>>>32-i,n)}function a(e,n,o,a,r,i,s){return e=t(e,t(t(n^o^a,r),s)),t(e<<i|e>>>32-i,n)}function r(e,n,o,a,r,i,s){return e=t(e,t(t(o^(n|~a),r),s)),t(e<<i|e>>>32-i,n)}function i(e){var t,n="",o="";for(t=0;3>=t;t++)n+=(o="0"+(o=e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var s,l,c,d,u,h,m,p,v;for(s=function(e){for(var t,n=e.length,o=16*(((t=n+8)-t%64)/64+1),a=Array(o-1),r=0,i=0;i<n;)r=i%4*8,a[t=(i-i%4)/4]|=e.charCodeAt(i)<<r,i++;return a[t=(i-i%4)/4]|=128<<i%4*8,a[o-2]=n<<3,a[o-1]=n>>>29,a}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):(127<o&&2048>o?t+=String.fromCharCode(o>>6|192):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128)),t+=String.fromCharCode(63&o|128))}return t}(e)),h=1732584193,m=4023233417,p=2562383102,v=271733878,e=0;e<s.length;e+=16)l=h,c=m,d=p,u=v,h=n(h,m,p,v,s[e+0],7,3614090360),v=n(v,h,m,p,s[e+1],12,3905402710),p=n(p,v,h,m,s[e+2],17,606105819),m=n(m,p,v,h,s[e+3],22,3250441966),h=n(h,m,p,v,s[e+4],7,4118548399),v=n(v,h,m,p,s[e+5],12,1200080426),p=n(p,v,h,m,s[e+6],17,2821735955),m=n(m,p,v,h,s[e+7],22,4249261313),h=n(h,m,p,v,s[e+8],7,1770035416),v=n(v,h,m,p,s[e+9],12,2336552879),p=n(p,v,h,m,s[e+10],17,4294925233),m=n(m,p,v,h,s[e+11],22,2304563134),h=n(h,m,p,v,s[e+12],7,1804603682),v=n(v,h,m,p,s[e+13],12,4254626195),p=n(p,v,h,m,s[e+14],17,2792965006),h=o(h,m=n(m,p,v,h,s[e+15],22,1236535329),p,v,s[e+1],5,4129170786),v=o(v,h,m,p,s[e+6],9,3225465664),p=o(p,v,h,m,s[e+11],14,643717713),m=o(m,p,v,h,s[e+0],20,3921069994),h=o(h,m,p,v,s[e+5],5,3593408605),v=o(v,h,m,p,s[e+10],9,38016083),p=o(p,v,h,m,s[e+15],14,3634488961),m=o(m,p,v,h,s[e+4],20,3889429448),h=o(h,m,p,v,s[e+9],5,568446438),v=o(v,h,m,p,s[e+14],9,3275163606),p=o(p,v,h,m,s[e+3],14,4107603335),m=o(m,p,v,h,s[e+8],20,1163531501),h=o(h,m,p,v,s[e+13],5,2850285829),v=o(v,h,m,p,s[e+2],9,4243563512),p=o(p,v,h,m,s[e+7],14,1735328473),h=a(h,m=o(m,p,v,h,s[e+12],20,2368359562),p,v,s[e+5],4,4294588738),v=a(v,h,m,p,s[e+8],11,2272392833),p=a(p,v,h,m,s[e+11],16,1839030562),m=a(m,p,v,h,s[e+14],23,4259657740),h=a(h,m,p,v,s[e+1],4,2763975236),v=a(v,h,m,p,s[e+4],11,1272893353),p=a(p,v,h,m,s[e+7],16,4139469664),m=a(m,p,v,h,s[e+10],23,3200236656),h=a(h,m,p,v,s[e+13],4,681279174),v=a(v,h,m,p,s[e+0],11,3936430074),p=a(p,v,h,m,s[e+3],16,3572445317),m=a(m,p,v,h,s[e+6],23,76029189),h=a(h,m,p,v,s[e+9],4,3654602809),v=a(v,h,m,p,s[e+12],11,3873151461),p=a(p,v,h,m,s[e+15],16,530742520),h=r(h,m=a(m,p,v,h,s[e+2],23,3299628645),p,v,s[e+0],6,4096336452),v=r(v,h,m,p,s[e+7],10,1126891415),p=r(p,v,h,m,s[e+14],15,2878612391),m=r(m,p,v,h,s[e+5],21,4237533241),h=r(h,m,p,v,s[e+12],6,1700485571),v=r(v,h,m,p,s[e+3],10,2399980690),p=r(p,v,h,m,s[e+10],15,4293915773),m=r(m,p,v,h,s[e+1],21,2240044497),h=r(h,m,p,v,s[e+8],6,1873313359),v=r(v,h,m,p,s[e+15],10,4264355552),p=r(p,v,h,m,s[e+6],15,2734768916),m=r(m,p,v,h,s[e+13],21,1309151649),h=r(h,m,p,v,s[e+4],6,4149444226),v=r(v,h,m,p,s[e+11],10,3174756917),p=r(p,v,h,m,s[e+2],15,718787259),m=r(m,p,v,h,s[e+9],21,3951481745),h=t(h,l),m=t(m,c),p=t(p,d),v=t(v,u);return(i(h)+i(m)+i(p)+i(v)).toLowerCase()},FLAG_LENGTH=23;async function checkFlag(e){const t=[];for(let n=0;n<FLAG_LENGTH;n++)if(CheckInFilter(e[n],n))t.push("correct");else{let o=!1;for(let a=0;a<FLAG_LENGTH;a++)if(CheckInFilter(e[n],a)){t.push("present"),o=!0;break}o||t.push("absent")}return t}this.wordle=this.wordle||{},this.wordle.bundle=function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function d(e,t,n){return(d=c()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&l(a,n.prototype),a}).apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return d(e,arguments,s(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l(o,e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t=c();return function(){var n,o=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?h(e):t}(this,n)}}function p(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var f=document.createElement("template");f.innerHTML="\n<style>\n  :host {\n    display: inline-block;\n  }\n  .tile {\n    width: 100%;\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 2rem;\n    line-height: 2rem;\n    font-weight: bold;\n    vertical-align: middle;\n    box-sizing: border-box;\n    color: var(--tile-text-color);\n    text-transform: uppercase;\n    user-select: none;\n  }\n  .tile::before {\n    content: '';\n    display: inline-block;\n    padding-bottom: 100%;\n  }\n\n  /* Allow tiles to be smaller on small screens */\n  @media (max-height: 600px) {\n    .tile {\n      font-size: 1em;\n      line-height: 1em;\n    }\n  }\n\n  .tile[data-state='empty'] {\n    border: 2px solid var(--color-tone-4);\n  }\n  .tile[data-state='tbd'] {\n    background-color: var(--color-tone-7);\n    border: 2px solid var(--color-tone-3);\n    color: var(--color-tone-1);\n  }\n  .tile[data-state='correct'] {\n    background-color: var(--color-correct);\n  }\n  .tile[data-state='present'] {\n    background-color: var(--color-present);\n  }\n  .tile[data-state='absent'] {\n    background-color: var(--color-absent);\n  }\n\n  .tile[data-animation='pop'] {\n    animation-name: PopIn;\n    animation-duration: 100ms;\n  }\n\n  @keyframes PopIn {\n    from {\n      transform: scale(0.8);\n      opacity: 0;\n    }\n\n    40% {\n      transform: scale(1.1);\n      opacity: 1;\n    }\n  }\n  .tile[data-animation='flip-in'] {\n    animation-name: FlipIn;\n    animation-duration: 250ms;\n    animation-timing-function: ease-in;\n  }\n  @keyframes FlipIn {\n    0% {\n      transform: rotateX(0);\n    }\n    100% {\n      transform: rotateX(-90deg);\n    }\n  }\n  .tile[data-animation='flip-out'] {\n    animation-name: FlipOut;\n    animation-duration: 250ms;\n    animation-timing-function: ease-in;\n  }\n  @keyframes FlipOut {\n    0% {\n      transform: rotateX(-90deg);\n    }\n    100% {\n      transform: rotateX(0);\n    }\n  }\n</style>\n<div class=\"tile\" data-state=\"empty\" data-animation=\"idle\"></div>\n";var g=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),r(h(e=t.call(this)),"_letter",""),r(h(e),"_state","empty"),r(h(e),"_animation","idle"),r(h(e),"_last",!1),r(h(e),"_reveal",!1),e.attachShadow({mode:"open"}),e}return a(o,[{key:"last",set:function(e){this._last=e}},{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(f.content.cloneNode(!0)),this.$tile=this.shadowRoot.querySelector(".tile"),this.$tile.addEventListener("animationend",function(t){"PopIn"===t.animationName&&(e._animation="idle"),"FlipIn"===t.animationName&&(e.$tile.dataset.state=e._state,e._animation="flip-out"),"FlipOut"===t.animationName&&(e._animation="idle",e._last&&e.dispatchEvent(new CustomEvent("game-last-tile-revealed-in-row",{bubbles:!0,composed:!0}))),e._render()}),this._render()}},{key:"attributeChangedCallback",value:function(e,t,n){switch(e){case"letter":if(n===t)break;var o="null"===n?"":n;this._letter=o,this._state=o?"tbd":"empty",this._animation=o?"pop":"idle";break;case"evaluation":if(!n)break;this._state=n;break;case"reveal":this._animation="flip-in",this._reveal=!0}this._render()}},{key:"_render",value:function(){this.$tile&&(this.$tile.textContent=this._letter,["empty","tbd"].includes(this._state)&&(this.$tile.dataset.state=this._state),(["empty","tbd"].includes(this._state)||this._reveal)&&this.$tile.dataset.animation!=this._animation&&(this.$tile.dataset.animation=this._animation))}}],[{key:"observedAttributes",get:function(){return["letter","evaluation","reveal"]}}]),o}();customElements.define("game-tile",g);var b=document.createElement("template");b.innerHTML=`\n  <style>\n    :host {\n      display: block;\n    }\n    :host([invalid]){\n      animation-name: Shake;\n      animation-duration: 600ms;\n    }\n    .row {\n      display: grid;\n      grid-template-columns: repeat(${FLAG_LENGTH}, 1fr);\n      grid-gap: 5px;\n    }\n    .win {\n      animation-name: Bounce;\n      animation-duration: 1000ms;\n    }\n\n    @keyframes Bounce {\n      0%, 20% {\n        transform: translateY(0);\n      }\n      40% {\n        transform: translateY(-30px);\n      }\n      50% {\n        transform: translateY(5px);\n      }\n      60% {\n        transform: translateY(-15px);\n      }\n      80% {\n        transform: translateY(2px);\n      }\n      100% {\n        transform: translateY(0);\n      }\n    }\n\n    @keyframes Shake {\n      10%,\n      90% {\n        transform: translateX(-1px);\n      }\n\n      20%,\n      80% {\n        transform: translateX(2px);\n      }\n\n      30%,\n      50%,\n      70% {\n        transform: translateX(-4px);\n      }\n\n      40%,\n      60% {\n        transform: translateX(4px);\n      }\n    }\n  </style>\n  <div class="row"></div>\n`;var y=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e._letters="",e._evaluation=[],e._length,e}return a(o,[{key:"evaluation",get:function(){return this._evaluation},set:function(e){var t=this;this._evaluation=e,this.$tiles&&this.$tiles.forEach(function(e,n){e.setAttribute("evaluation",t._evaluation[n]),setTimeout(function(){e.setAttribute("reveal","")},300*n)})}},{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(b.content.cloneNode(!0)),this.$row=this.shadowRoot.querySelector(".row");for(var t=function(t){var n=document.createElement("game-tile"),o=e._letters[t];o&&n.setAttribute("letter",o),e._evaluation[t]&&(n.setAttribute("evaluation",e._evaluation[t]),setTimeout(function(){n.setAttribute("reveal","")},100*t)),t===e._length-1&&(n.last=!0),e.$row.appendChild(n)},n=0;n<this._length;n++)t(n);this.$tiles=this.shadowRoot.querySelectorAll("game-tile"),this.addEventListener("animationend",function(t){"Shake"===t.animationName&&e.removeAttribute("invalid")})}},{key:"attributeChangedCallback",value:function(e,t,n){switch(e){case"letters":this._letters=n||"";break;case"length":this._length=parseInt(n,10);break;case"win":if(null===n){this.$tiles.forEach(function(e){e.classList.remove("win")});break}this.$tiles.forEach(function(e,t){e.classList.add("win"),e.style.animationDelay="".concat(100*t,"ms")})}this._render()}},{key:"_render",value:function(){var e=this;this.$row&&this.$tiles.forEach(function(t,n){var o=e._letters[n];o?t.setAttribute("letter",o):t.removeAttribute("letter")})}}],[{key:"observedAttributes",get:function(){return["letters","length","invalid","win"]}}]),o}();customElements.define("game-row",y);var w=document.createElement("template");w.innerHTML="\n  <slot></slot>\n";var x="nyt-wordle-darkmode",k="nyt-wordle-cbmode",S=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;n(this,o),r(h(e=t.call(this)),"isDarkTheme",!1),r(h(e),"isColorBlindTheme",!1),e.attachShadow({mode:"open"});var a=JSON.parse(window.localStorage.getItem(x)),i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=JSON.parse(window.localStorage.getItem(k));return!0===a||!1===a?e.setDarkTheme(a):i&&e.setDarkTheme(!0),!0!==s&&!1!==s||e.setColorBlindTheme(s),window.themeManager=h(e),e}return a(o,[{key:"setDarkTheme",value:function(e){var t=document.querySelector("body");e&&!t.classList.contains("nightmode")?t.classList.add("nightmode"):t.classList.remove("nightmode"),this.isDarkTheme=e,window.localStorage.setItem(x,JSON.stringify(e))}},{key:"setColorBlindTheme",value:function(e){var t=document.querySelector("body");e&&!t.classList.contains("colorblind")?t.classList.add("colorblind"):t.classList.remove("colorblind"),this.isColorBlindTheme=e,window.localStorage.setItem(k,JSON.stringify(e))}},{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(w.content.cloneNode(!0)),this.shadowRoot.addEventListener("game-setting-change",function(t){var n=t.detail,o=n.name,a=n.checked;switch(o){case"dark-theme":return void e.setDarkTheme(a);case"color-blind-theme":return void e.setColorBlindTheme(a)}})}}]),o}();function C(e,t){return e===t||e!=e&&t!=t}function E(e,t){for(var n=e.length;n--;)if(C(e[n][0],t))return n;return-1}customElements.define("game-theme-manager",S);var _=Array.prototype.splice;function L(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}L.prototype.clear=function(){this.__data__=[],this.size=0},L.prototype.delete=function(e){var t=this.__data__,n=E(t,e);return!(n<0||(n==t.length-1?t.pop():_.call(t,n,1),--this.size,0))},L.prototype.get=function(e){var t=this.__data__,n=E(t,e);return n<0?void 0:t[n][1]},L.prototype.has=function(e){return E(this.__data__,e)>-1},L.prototype.set=function(e,t){var n=this.__data__,o=E(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this};var T="object"==("undefined"==typeof global?"undefined":t(global))&&global&&global.Object===Object&&global,A="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,I=T||A||Function("return this")(),M=I.Symbol,j=Object.prototype,R=j.hasOwnProperty,z=j.toString,H=M?M.toStringTag:void 0,O=Object.prototype.toString,N=M?M.toStringTag:void 0;function P(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":N&&N in Object(e)?function(e){var t=R.call(e,H),n=e[H];try{e[H]=void 0;var o=!0}catch(e){}var a=z.call(e);return o&&(t?e[H]=n:delete e[H]),a}(e):function(e){return O.call(e)}(e)}function q(e){var n=t(e);return null!=e&&("object"==n||"function"==n)}function G(e){if(!q(e))return!1;var t=P(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var D,$=I["__core-js_shared__"],F=(D=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",B=Function.prototype.toString,V=/^\[object .+?Constructor\]$/,Y=Function.prototype,W=Object.prototype,U=Y.toString,J=W.hasOwnProperty,K=RegExp("^"+U.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!q(e)||(t=e,F&&F in t))&&(G(e)?K:V).test(function(e){if(null!=e){try{return B.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}var Z=X(I,"Map"),Q=X(Object,"create"),ee=Object.prototype.hasOwnProperty,te=Object.prototype.hasOwnProperty;function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function oe(e,n){var o,a,r=e.__data__;return("string"==(a=t(o=n))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==o:null===o)?r["string"==typeof n?"string":"hash"]:r.map}function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function re(e){var t=this.__data__=new L(e);this.size=t.size}ne.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},ne.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ne.prototype.get=function(e){var t=this.__data__;if(Q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:te.call(t,e)},ne.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Q&&void 0===t?"__lodash_hash_undefined__":t,this},ae.prototype.clear=function(){this.size=0,this.__data__={hash:new ne,map:new(Z||L),string:new ne}},ae.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},ae.prototype.get=function(e){return oe(this,e).get(e)},ae.prototype.has=function(e){return oe(this,e).has(e)},ae.prototype.set=function(e,t){var n=oe(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},re.prototype.clear=function(){this.__data__=new L,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof L){var o=n.__data__;if(!Z||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new ae(o)}return n.set(e,t),this.size=n.size,this};var ie=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function se(e,t,n){"__proto__"==t&&ie?ie(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function le(e,t,n){(void 0!==n&&!C(e[t],n)||void 0===n&&!(t in e))&&se(e,t,n)}var ce=function(e,t,n){for(var o=-1,a=Object(e),r=n(e),i=r.length;i--;){var s=r[++o];if(!1===t(a[s],s,a))break}return e},de="object"==(void 0===e?"undefined":t(e))&&e&&!e.nodeType&&e,ue=de&&"object"==("undefined"==typeof module?"undefined":t(module))&&module&&!module.nodeType&&module,he=ue&&ue.exports===de?I.Buffer:void 0,me=(he&&he.allocUnsafe,I.Uint8Array);var pe,ve,fe=Object.create,ge=function(){function e(){}return function(t){if(!q(t))return{};if(fe)return fe(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),be=(pe=Object.getPrototypeOf,ve=Object,function(e){return pe(ve(e))}),ye=Object.prototype;function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ye)}function xe(e){return null!=e&&"object"==t(e)}function ke(e){return xe(e)&&"[object Arguments]"==P(e)}var Se=Object.prototype,Ce=Se.hasOwnProperty,Ee=Se.propertyIsEnumerable,_e=ke(function(){return arguments}())?ke:function(e){return xe(e)&&Ce.call(e,"callee")&&!Ee.call(e,"callee")},Le=Array.isArray;function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ae(e){return null!=e&&Te(e.length)&&!G(e)}var Ie="object"==(void 0===e?"undefined":t(e))&&e&&!e.nodeType&&e,Me=Ie&&"object"==("undefined"==typeof module?"undefined":t(module))&&module&&!module.nodeType&&module,je=Me&&Me.exports===Ie?I.Buffer:void 0,Re=(je?je.isBuffer:void 0)||function(){return!1},ze=Function.prototype,He=Object.prototype,Oe=ze.toString,Ne=He.hasOwnProperty,Pe=Oe.call(Object),qe={};qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Arguments]"]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object Boolean]"]=qe["[object DataView]"]=qe["[object Date]"]=qe["[object Error]"]=qe["[object Function]"]=qe["[object Map]"]=qe["[object Number]"]=qe["[object Object]"]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object WeakMap]"]=!1;var Ge="object"==(void 0===e?"undefined":t(e))&&e&&!e.nodeType&&e,De=Ge&&"object"==("undefined"==typeof module?"undefined":t(module))&&module&&!module.nodeType&&module,$e=De&&De.exports===Ge&&T.process,Fe=function(){try{return De&&De.require&&De.require("util").types||$e&&$e.binding&&$e.binding("util")}catch(e){}}(),Be=Fe&&Fe.isTypedArray,Ve=Be?function(e){return function(t){return e(t)}}(Be):function(e){return xe(e)&&Te(e.length)&&!!qe[P(e)]};function Ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var We=Object.prototype.hasOwnProperty;function Ue(e,t,n){var o=e[t];We.call(e,t)&&C(o,n)&&(void 0!==n||t in e)||se(e,t,n)}var Je=/^(?:0|[1-9]\d*)$/;function Ke(e,n){var o=t(e);return!!(n=null==n?9007199254740991:n)&&("number"==o||"symbol"!=o&&Je.test(e))&&e>-1&&e%1==0&&e<n}var Xe=Object.prototype.hasOwnProperty;var Ze=Object.prototype.hasOwnProperty;function Qe(e){return Ae(e)?function(e,t){var n=Le(e),o=!n&&_e(e),a=!n&&!o&&Re(e),r=!n&&!o&&!a&&Ve(e),i=n||o||a||r,s=i?function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}(e.length,String):[],l=s.length;for(var c in e)!t&&!Xe.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ke(c,l))||s.push(c);return s}(e,!0):function(e){if(!q(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=we(e),n=[];for(var o in e)("constructor"!=o||!t&&Ze.call(e,o))&&n.push(o);return n}(e)}function et(e,t,n,o,a,r,i){var s=Ye(e,n),l=Ye(t,n),c=i.get(l);if(c)le(e,n,c);else{var d,u=r?r(s,l,n+"",e,t,i):void 0,h=void 0===u;if(h){var m=Le(l),p=!m&&Re(l),v=!m&&!p&&Ve(l);u=l,m||p||v?Le(s)?u=s:xe(d=s)&&Ae(d)?u=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}(s):p?(h=!1,u=function(e,t){return e.slice()}(l)):v?(h=!1,u=function(e,t){var n,o,a=t?(o=new(n=e.buffer).constructor(n.byteLength),new me(o).set(new me(n)),o):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}(l,!0)):u=[]:function(e){if(!xe(e)||"[object Object]"!=P(e))return!1;var t=be(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Pe}(l)||_e(l)?(u=s,_e(s)?u=function(e){return function(e,t,n,o){var a=!n;n||(n={});for(var r=-1,i=t.length;++r<i;){var s=t[r],l=void 0;void 0===l&&(l=e[s]),a?se(n,s,l):Ue(n,s,l)}return n}(e,Qe(e))}(s):q(s)&&!G(s)||(u=function(e){return"function"!=typeof e.constructor||we(e)?{}:ge(be(e))}(l))):h=!1}h&&(i.set(l,u),a(u,l,o,r,i),i.delete(l)),le(e,n,u)}}function tt(e,t,n,o,a){e!==t&&ce(t,function(r,i){if(a||(a=new re),q(r))et(e,t,i,n,tt,o,a);else{var s=o?o(Ye(e,i),r,i+"",e,t,a):void 0;void 0===s&&(s=r),le(e,i,s)}},Qe)}function nt(e){return e}var ot=Math.max,at=ie?function(e,t){return ie(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:nt,rt=Date.now,it=function(e){var t=0,n=0;return function(){var o=rt(),a=16-(o-n);if(n=o,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(at);var st,lt=(st=function(e,t,n){tt(e,t,n)},function(e,t){return it(function(e,t,n){return t=ot(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,r=ot(o.length-t,0),i=Array(r);++a<r;)i[a]=o[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=o[a];return s[t]=n(i),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,nt),e+"")}(function(e,n){var o=-1,a=n.length,r=a>1?n[a-1]:void 0,i=a>2?n[2]:void 0;for(r=st.length>3&&"function"==typeof r?(a--,r):void 0,i&&function(e,n,o){if(!q(o))return!1;var a=t(n);return!!("number"==a?Ae(o)&&Ke(n,o.length):"string"==a&&n in o)&&C(o[n],e)}(n[0],n[1],i)&&(r=a<3?void 0:r,a=1),e=Object(e);++o<a;){var s=n[o];s&&st(e,s,o)}return e})),ct="nyt-wordle-state",dt={boardState:null,evaluations:null,rowIndex:null,solution:null,gameStatus:null,lastPlayedTs:null,lastCompletedTs:null,restoringFromLocalStorage:null,hardMode:!1};function ut(){var e=window.localStorage.getItem(ct)||JSON.stringify(dt);return JSON.parse(e)}function ht(e){var t=ut();!function(e){window.localStorage.setItem(ct,JSON.stringify(e))}(lt(t,e))}function mt(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}var pt=document.createElement("template");pt.innerHTML='\n  <style>\n  .setting {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px solid var(--color-tone-4);\n    padding: 16px 0;\n  }\n\n  a, a:visited {\n    color: var(--color-tone-2);\n  }\n\n  .title {\n    font-size: 18px;\n  }\n  .text {\n    padding-right: 8px;\n  }\n  .description {\n    font-size: 12px;\n    color: var(--color-tone-2);\n  }\n\n  #footnote {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 16px;\n    color: var(--color-tone-2);\n    font-size: 12px;\n    text-align: right;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n  }\n\n  @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {\n    .setting {\n      padding: 16px;\n    }\n  }\n\n  </style>\n  <div class="sections">\n    <section>\n      <div class="setting">\n        <div class="text">\n          <div class="title">Hard Mode</div>\n          <div class="description">Any revealed hints must be used in subsequent guesses</div>\n        </div>\n        <div class="control">\n          <game-switch id="hard-mode" name="hard-mode"></game-switch>\n        </div>\n      </div>\n      <div class="setting">\n        <div class="text">\n          <div class="title">Dark Theme</div>\n        </div>\n        <div class="control">\n          <game-switch id="dark-theme" name="dark-theme"></game-switch>\n        </div>\n      </div>\n      <div class="setting">\n        <div class="text">\n          <div class="title">High Contrast Mode</div>\n          <div class="description">For improved color vision</div>\n        </div>\n        <div class="control">\n          <game-switch id="color-blind-theme" name="color-blind-theme"></game-switch>\n        </div>\n      </div>\n    </section>\n\n    <section>\n      <div class="setting">\n        <div class="text">\n          <div class="title">Feedback</div>\n        </div>\n        <div class="control">\n          <a href="'.concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Flagle Feedback",t=(new Date).getTimezoneOffset(),n="\r\n\r\n\n--\nDevice summary:\nPage: /games/wordle\nPlatform: ".concat(mt()?"Web (Mobile)":"Web (Desktop)"," \nBrowser: ").concat(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(function(){var e=navigator.userAgent;return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"No browser detection"}()),"\nScreen Resolution: ").concat(window.screen.width," x ").concat(window.screen.height,"\nViewport Size: ").concat(document.documentElement.clientWidth," x ").concat(document.documentElement.clientHeight,"\nTimezone: ","UTC".concat(t>0?"":"+").concat(t/-60),"\n  ");return"mailto:nytgames@nytimes.com"+function(e){var t=[];return Object.keys(e).forEach(function(n){t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])))}),"?".concat(t.join("&"))}({subject:e,body:n})}(),'" title="nytgames@nytimes.com">Email</a>\n        </div>\n      </div>\n      <div class="setting">\n        <div class="text">\n          <div class="title">Community</div>\n        </div>\n        <div class="control">\n          <a href="https://twitter.com/NYTimesWordplay" target="blank" title="@NYTimesWordplay">Twitter</a>\n        </div>\n      </div>\n      <div class="setting">\n      <div class="text">\n        <div class="title">Questions?</div>\n      </div>\n      <div class="control">\n        <a href="https://help.nytimes.com/hc/en-us/articles/360029050872-Word-Games-and-Logic-Puzzles#h_01FVGCB2Z00ZQMDMCYWBPWJNXB" target="blank">FAQ</a>\n      </div>\n    </div>\n    </section>\n  </div>\n  <div id="footnote">\n    <div id="copyright">&#169; ').concat((new Date).getFullYear(),' The New York Times Company</div>\n    <div>\n      <div id="puzzle-number"></div>\n      <div id="hash"></div>\n    </div>\n  </div>\n');var vt=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),r(h(e=t.call(this)),"gameApp",void 0),e.attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){var e,t=this;this.shadowRoot.appendChild(pt.content.cloneNode(!0)),this.shadowRoot.querySelector("#hash").textContent=null===(e=window.wordle)||void 0===e?void 0:e.hash,this.shadowRoot.querySelector("#puzzle-number").textContent="#".concat(this.gameApp.dayOffset),this.shadowRoot.addEventListener("game-switch-change",function(e){e.stopPropagation();var n=e.detail,o=n.name,a=n.checked,r=n.disabled;t.dispatchEvent(new CustomEvent("game-setting-change",{bubbles:!0,composed:!0,detail:{name:o,checked:a,disabled:r}})),t.render()}),this.render()}},{key:"render",value:function(){var e=document.querySelector("body");e.classList.contains("nightmode")&&this.shadowRoot.querySelector("#dark-theme").setAttribute("checked",""),e.classList.contains("colorblind")&&this.shadowRoot.querySelector("#color-blind-theme").setAttribute("checked","");var t=ut();t.hardMode&&this.shadowRoot.querySelector("#hard-mode").setAttribute("checked",""),t.hardMode||"IN_PROGRESS"!==t.gameStatus||0===t.rowIndex||(this.shadowRoot.querySelector("#hard-mode").removeAttribute("checked"),this.shadowRoot.querySelector("#hard-mode").setAttribute("disabled",""))}}]),o}();customElements.define("game-settings",vt);var ft=document.createElement("template");ft.innerHTML='\n  <style>\n    .toast {\n      position: relative;\n      margin: 16px;\n      background-color: var(--color-tone-1);\n      color: var(--color-tone-7);\n      padding: 16px;\n      border: none;\n      border-radius: 4px;\n      opacity: 1;\n      transition: opacity 300ms cubic-bezier(0.645, 0.045, 0.355, 1);\n      font-weight: 700;\n    }\n    .win {\n      background-color: var(--color-correct);\n      color: var(--tile-text-color);\n    }\n    .fade {\n      opacity: 0;\n    }\n  </style>\n  <div class="toast"></div>\n';var gt=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),r(h(e=t.call(this)),"_duration",void 0),e.attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(ft.content.cloneNode(!0));var t=this.shadowRoot.querySelector(".toast");t.textContent=this.getAttribute("text"),this._duration=this.getAttribute("duration")||1e3,"Infinity"!==this._duration&&setTimeout(function(){t.classList.add("fade")},this._duration),t.addEventListener("transitionend",function(t){e.parentNode.removeChild(e)})}}]),o}();customElements.define("game-toast",gt);var bt="present",yt="correct",wt={unknown:0,absent:1,present:2,correct:3};function xt(e,t){var n={};return e.forEach(function(e,o){if(t[o])for(var a=0;a<e.length;a++){var r=e[a],i=t[o][a],s=n[r]||"unknown";wt[i]>wt[s]&&(n[r]=i)}}),n}function kt(e){var t=["th","st","nd","rd"],n=e%100;return e+(t[(n-20)%10]||t[n]||t[0])}var St=new Date(2021,5,19,0,0,0,0);function Ct(e,t){var n=new Date(e),o=new Date(t).setHours(0,0,0,0)-n.setHours(0,0,0,0);return Math.round(o/864e5)}function Et(e){return Ct(St,e)}var _t="abcdefghijklmnopqrstuvwxyz0123456789{}_",Lt="nyt-wordle-statistics",Tt="fail",At={currentStreak:0,maxStreak:0,guesses:r({1:0,2:0,3:0,4:0,5:0,6:0},Tt,0),winPercentage:0,gamesPlayed:0,gamesWon:0,averageGuesses:0};function It(){var e=window.localStorage.getItem(Lt)||JSON.stringify(At);return JSON.parse(e)}function Mt(e){var t=e.isWin,n=e.isStreak,o=e.numGuesses,a=It();window.willFixStreak&&(1===a.currentStreak&&a.currentStreak<a.maxStreak&&(a.currentStreak+=a.maxStreak,a.maxStreak+=1),window.willFixStreak=!1),t?(a.guesses[o]+=1,n?a.currentStreak+=1:a.currentStreak=1):(a.currentStreak=0,a.guesses.fail+=1),a.maxStreak=Math.max(a.currentStreak,a.maxStreak),a.gamesPlayed+=1,a.gamesWon+=t?1:0,a.winPercentage=Math.round(a.gamesWon/a.gamesPlayed*100),a.averageGuesses=Math.round(Object.entries(a.guesses).reduce(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return r}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=n[0],a=n[1];return o!==Tt?e+=o*a:e},0)/a.gamesWon),function(e){window.localStorage.setItem(Lt,JSON.stringify(e))}(a)}var jt,Rt="nyt-wordle-refresh",zt=window.localStorage;var Ht="nyt-wordle-statistics",Ot=window.localStorage;function Nt(){if(Ot){try{var e=new Proxy(new URLSearchParams(window.location.search),{get:function(e,t){return e.get(t)}});e.data&&function(e){if(!e.statistics)throw new Error("User local data does not contain statistics. Aborting transfer.");if(function(e,t){if(!e.gamesPlayed)return!1;var n=function(){var e={gamesPlayed:0};try{var t=JSON.parse(Ot.getItem(Ht));if(t&&t.gamesPlayed)return t}catch(t){return e}return e}();return!(n.gamesPlayed&&!t)||e.gamesPlayed>n.gamesPlayed}(e.statistics,e.force)){Ot.setItem(Ht,JSON.stringify(e.statistics));var t=e.darkTheme;window.themeManager.setDarkTheme(t);var n=!!e.colorBlindTheme;window.themeManager.setColorBlindTheme(n)}}(JSON.parse(e.data))}catch(e){}window.history.replaceState({},document.title,new URL(location.pathname,location.href).href)}}var Pt=document.createElement("template");Pt.innerHTML="\n  <style>\n  .toaster {\n    position: absolute;\n    top: 10%;\n    left: 50%;\n    transform: translate(-50%, 0);\n    pointer-events: none;\n    width: fit-content;\n  }\n  #game-toaster {\n    z-index: ".concat(1e3,";\n  }\n  #system-toaster {\n    z-index: ").concat(4e3,';\n  }\n\n  #game {\n    width: 100%;\n    max-width: var(--game-max-width);\n    margin: 0 auto;\n    height: calc(100% - var(--header-height));\n    display: flex;\n    flex-direction: column;\n  }\n  header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    flex-wrap: nowrap;\n    padding: 0 16px;\n    height: var(--header-height);\n    color: var(--color-tone-1);\n    border-bottom: 1px solid var(--color-tone-4);\n  }\n  header .title {\n    font-family: \'nyt-karnakcondensed\';\n    font-weight: 700;\n    font-size: 37px;\n    line-height: 100%;\n    letter-spacing: 0.01em;\n    text-align: center;\n    left: 0;\n    right: 0;\n    pointer-events: none;\n  }\n  menu-left {\n    display: flex;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    align-items: center;\n  }\n  menu-right {\n    display: inline-block;\n  }\n  #nav-button {\n    padding-top: 2px;\n  }\n\n  @media (min-width: 415px) {\n    header {\n      padding: 0px 16px;\n    }\n  }\n\n  @media (max-width: 360px) {\n    header .title {\n      font-size: 22px;\n      letter-spacing: 0.1rem;\n    }\n  }\n\n  #board-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-grow: 1;\n    overflow: hidden;\n  }\n  #board {\n    display: grid;\n    grid-template-rows: repeat(6, 1fr);\n    grid-gap: 5px;\n    padding:10px;\n    box-sizing: border-box;\n  }\n  button.icon {\n    background: none;\n    border: none;\n    cursor: pointer;\n    padding: 0 4px;\n  }\n\n  #debug-tools {\n    position: absolute;\n    bottom: 0;\n  }\n\n  </style>\n  <game-theme-manager>\n  <header>\n  <div class="menu-left" style="display: flex;">\n    <button id="nav-button" class="icon" aria-label="Navigation menu. Click for links to other NYT Games and our Privacy Policy." tabindex="-1">\n      <nav-icon></nav-icon>\n    </button>\n    <button id="help-button" class="icon" aria-label="Help" tabindex="-1">\n      <game-icon icon="help"></game-icon>\n    </button>\n  </div>\n  <div class="title">\n    Flagle\n  </div>\n  <div class="menu-right">\n    <button id="statistics-button" class="icon" aria-label="Statistics" tabindex="-1">\n      <game-icon icon="statistics"></game-icon>\n    </button>\n    <button id="settings-button" class="icon" aria-label="Settings" tabindex="-1">\n      <game-icon icon="settings"></game-icon>\n    </button>\n  </div>\n</header>\n    <div id="game">\n        <div id="board-container">\n          <div id="board"></div>\n        </div>\n        <game-keyboard></game-keyboard>\n        <game-nav-modal></game-nav-modal>\n        <game-modal></game-modal>\n        <game-page></game-page>\n        <div class="toaster" id="game-toaster"></div>\n        <div class="toaster" id="system-toaster"></div>\n    </div>\n  </game-theme-manager>\n  <div id="debug-tools"></div>\n');var qt=document.createElement("template");qt.innerHTML='\n<button id="reveal">reveal</button>\n<button id="shake">shake</button>\n<button id="bounce">bounce</button>\n<button id="toast">toast</button>\n<button id="modal">modal</button>\n';var Gt="IN_PROGRESS",Dt="WIN",$t="FAIL",Ft=["Genius","Magnificent","Impressive","Splendid","Great","Phew"],Bt=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;n(this,o),r(h(e=t.call(this)),"tileIndex",0),r(h(e),"rowIndex",0),r(h(e),"solution",void 0),r(h(e),"boardState",void 0),r(h(e),"evaluations",void 0),r(h(e),"canInput",!0),r(h(e),"gameStatus",Gt),r(h(e),"letterEvaluations",{}),r(h(e),"$board",void 0),r(h(e),"$keyboard",void 0),r(h(e),"$game",void 0),r(h(e),"today",void 0),r(h(e),"lastPlayedTs",void 0),r(h(e),"lastCompletedTs",void 0),r(h(e),"hardMode",void 0),r(h(e),"dayOffset",void 0),e.attachShadow({mode:"open"}),e.today=new Date,e.refreshTimer=jt||(jt=setInterval(function(){zt.getItem(Rt)&&(zt.removeItem(Rt),window.location.href.match(/.*\.nytimes\.com/g)?window.location.reload(!0):window.location.replace("https://www.nytimes.com/games/wordle"))},432e5));var a=ut();e.lastPlayedTs=a.lastPlayedTs,e.lastCompletedTs=a.lastCompletedTs;var i=new Date("02/10/2022 19:00:00 EST");return window.willFixStreak=!!e.lastCompletedTs&&new Date(e.lastCompletedTs)<new Date(i),!e.lastPlayedTs||Ct(new Date(e.lastPlayedTs),e.today)>=1?(e.boardState=new Array(6).fill(""),e.evaluations=new Array(6).fill(null),e.dayOffset=Et(e.today),e.lastCompletedTs=a.lastCompletedTs,e.hardMode=a.hardMode,e.restoringFromLocalStorage=!1,ht({rowIndex:e.rowIndex,boardState:e.boardState,evaluations:e.evaluations,gameStatus:e.gameStatus})):(e.boardState=a.boardState,e.evaluations=a.evaluations,e.rowIndex=a.rowIndex,e.dayOffset=Et(e.today),e.letterEvaluations=xt(e.boardState,e.evaluations),e.gameStatus=a.gameStatus,e.lastCompletedTs=a.lastCompletedTs,e.hardMode=a.hardMode,e.gameStatus!==Gt&&(e.canInput=!1),e.restoringFromLocalStorage=!0),e}return a(o,[{key:"evaluateRow",value:function(){if(FLAG_LENGTH===this.tileIndex&&!(this.rowIndex>=6)){var e=this.$board.querySelectorAll("game-row")[this.rowIndex],t=this.boardState[this.rowIndex];if(this.hardMode){var n=function(e,t,n){if(!e||!t||!n)return{validGuess:!0};for(var o=0;o<n.length;o++)if(n[o]===yt&&e[o]!==t[o])return{validGuess:!1,errorMessage:"".concat(kt(o+1)," letter must be ").concat(t[o].toUpperCase())};for(var a={},r=0;r<n.length;r++)[yt,bt].includes(n[r])&&(a[t[r]]?a[t[r]]+=1:a[t[r]]=1);var i=e.split("").reduce(function(e,t){return e[t]?e[t]+=1:e[t]=1,e},{});for(var s in a)if((i[s]||0)<a[s])return{validGuess:!1,errorMessage:"Guess must contain ".concat(s.toUpperCase())};return{validGuess:!0}}(t,this.boardState[this.rowIndex-1],this.evaluations[this.rowIndex-1]),o=n.validGuess,a=n.errorMessage;if(!o)return e.setAttribute("invalid",""),void this.addToast(a||"Not valid in hard mode")}checkFlag(t).then(t=>{this.evaluations[this.rowIndex]=t,this.letterEvaluations=xt(this.boardState,this.evaluations),e.evaluation=this.evaluations[this.rowIndex],this.rowIndex+=1;var n=this.rowIndex>=6,o=t.every(function(e){return"correct"===e});(n||o)&&(Mt({isWin:o,isStreak:!0,numGuesses:this.rowIndex}),ht({lastCompletedTs:Date.now()}),this.gameStatus=o?Dt:$t,zt.setItem(Rt,!0)),this.tileIndex=0,this.canInput=!1,ht({rowIndex:this.rowIndex,boardState:this.boardState,evaluations:this.evaluations,gameStatus:this.gameStatus,lastPlayedTs:Date.now()})})}}},{key:"addLetter",value:function(e){this.gameStatus===Gt&&this.canInput&&(this.tileIndex>=FLAG_LENGTH||(this.boardState[this.rowIndex]+=e,this.$board.querySelectorAll("game-row")[this.rowIndex].setAttribute("letters",this.boardState[this.rowIndex]),this.tileIndex+=1))}},{key:"removeLetter",value:function(){if(this.gameStatus===Gt&&this.canInput&&!(this.tileIndex<=0)){this.boardState[this.rowIndex]=this.boardState[this.rowIndex].slice(0,this.boardState[this.rowIndex].length-1);var e=this.$board.querySelectorAll("game-row")[this.rowIndex];this.boardState[this.rowIndex]?e.setAttribute("letters",this.boardState[this.rowIndex]):e.removeAttribute("letters"),e.removeAttribute("invalid"),this.tileIndex-=1}}},{key:"submitGuess",value:function(){if(this.gameStatus===Gt&&this.canInput){if(FLAG_LENGTH!==this.tileIndex)return this.$board.querySelectorAll("game-row")[this.rowIndex].setAttribute("invalid",""),void this.addToast("Not enough letters");this.evaluateRow()}}},{key:"addToast",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("game-toast");o.setAttribute("text",e),t&&o.setAttribute("duration",t),n?this.shadowRoot.querySelector("#system-toaster").prepend(o):this.shadowRoot.querySelector("#game-toaster").prepend(o)}},{key:"sizeBoard",value:function(){var e=this.shadowRoot.querySelector("#board-container"),t=Math.min(Math.floor(e.clientHeight*(FLAG_LENGTH/6)),1200),n=6*Math.floor(t/FLAG_LENGTH);this.$board.style.width="".concat(t,"px"),this.$board.style.height="".concat(n,"px")}},{key:"showStatsModal",value:function(){var e=this.$game.querySelector("game-modal"),t=document.createElement("game-stats");this.gameStatus===Dt&&this.rowIndex<=6&&t.setAttribute("highlight-guess",this.rowIndex),t.gameApp=this,e.appendChild(t),e.setAttribute("open","")}},{key:"showNavModal",value:function(){var e=this.$game.querySelector("game-nav-modal"),t=document.createElement("game-nav");t.gameApp=this,e.appendChild(t),e.setAttribute("open","")}},{key:"showHelpModal",value:function(){var e=this.$game.querySelector("game-modal");e.appendChild(document.createElement("game-help")),e.setAttribute("open","")}},{key:"connectedCallback",value:function(){var e,t,n,o,a,r,i,s,l,c=this;this.shadowRoot.appendChild(Pt.content.cloneNode(!0)),this.$game=this.shadowRoot.querySelector("#game"),this.$board=this.shadowRoot.querySelector("#board"),this.$keyboard=this.shadowRoot.querySelector("game-keyboard"),this.sizeBoard(),this.lastPlayedTs||setTimeout(function(){return c.showHelpModal()},100);for(var d=0;d<6;d++){var u=document.createElement("game-row");u.setAttribute("letters",this.boardState[d]),u.setAttribute("length",FLAG_LENGTH),this.evaluations[d]&&(u.evaluation=this.evaluations[d]),this.$board.appendChild(u)}this.$game.addEventListener("game-key-press",function(e){var t=e.detail.key;"←"===t||"Backspace"===t?c.removeLetter():"↵"===t||"Enter"===t?c.submitGuess():_t.includes(t.toLowerCase())&&c.addLetter(t.toLowerCase())}),this.$game.addEventListener("game-last-tile-revealed-in-row",function(e){c.$keyboard.letterEvaluations=c.letterEvaluations,c.rowIndex<6&&(c.canInput=!0);var t=c.$board.querySelectorAll("game-row")[c.rowIndex-1];(e.path||e.composedPath&&e.composedPath()).includes(t)&&([Dt,$t].includes(c.gameStatus)&&(c.restoringFromLocalStorage?c.showStatsModal():(c.gameStatus===Dt&&(t.setAttribute("win",""),c.addToast(Ft[c.rowIndex-1],2e3)),c.gameStatus===$t&&c.addToast("YOU FAILED!!!",1/0),setTimeout(function(){c.showStatsModal()},2500))),c.restoringFromLocalStorage=!1)}),this.shadowRoot.addEventListener("game-setting-change",function(e){var t=e.detail,n=t.name,o=t.checked,a=t.disabled;switch(n){case"hard-mode":return void(a?c.addToast("Hard mode can only be enabled at the start of a round",1500,!0):(c.hardMode=o,ht({hardMode:o})))}}),this.shadowRoot.getElementById("settings-button").addEventListener("click",function(e){var t=c.$game.querySelector("game-page"),n=document.createTextNode("Settings");t.appendChild(n);var o=document.createElement("game-settings");o.setAttribute("slot","content"),o.gameApp=c,t.appendChild(o),t.setAttribute("open","")}),this.shadowRoot.getElementById("help-button").addEventListener("click",function(e){var t=c.$game.querySelector("game-page"),n=document.createTextNode("How to play");t.appendChild(n);var o=document.createElement("game-help");o.setAttribute("page",""),o.setAttribute("slot","content"),t.appendChild(o),t.setAttribute("open","")}),this.shadowRoot.getElementById("statistics-button").addEventListener("click",function(e){c.showStatsModal()}),this.shadowRoot.getElementById("nav-button").addEventListener("click",function(e){c.showNavModal()}),window.addEventListener("resize",this.sizeBoard.bind(this)),Nt(),l={event:"pageDataReady",application:{name:"games-crosswords",environment:(s={container:"GTM-P528B3",prdstring:"&gtm_auth=tfAzqo1rYDLgYhmTnSjPqw&gtm_preview=env-130",devstring:"&gtm_auth=WiJyA7zv1sohHCWSZ3mF1Q&gtm_preview=env-8",stgstring:"&gtm_auth=FOuAsPhG-4kWeLk6Kq5AzQ&gtm_preview=env-7",dataLayer:"",modifier:"",env:document.location.host.indexOf(".dev.")>-1?"dev":document.location.host.indexOf(".stg.")>-1||document.location.host.indexOf(".stage.")>-1?"stg":"prod"}).env}},s.modifier=s.prdstring,"dev"===s.env?s.modifier=s.devstring:"stg"===s.env&&(s.modifier=s.stgstring),function(e,t,n,o,a,r){e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(n)[0],s=t.createElement(n);s.async=!0,s.src="https://www.googletagmanager.com/gtm.js?id="+a+r+"&gtm_cookies_win=x",i.parentNode.insertBefore(s,i)}(window,document,"script","dataLayer",s.container,s.modifier),e=l,o=(t=s.env)&&"prod"===t?"a.nytimes.com":"a.dev.nytimes.com",a=encodeURIComponent(document.referrer),r=encodeURIComponent((n=document.querySelector("link[rel=canonical]"))?n.href:document.location.href),(i=new XMLHttpRequest).withCredentials=!0,i.open("GET","https://"+o+"/svc/nyt/data-layer?sourceApp="+e.application.name+"&referrer="+a+"&assetUrl="+r,!0),i.onload=function(){var t=JSON.parse(i.responseText);t.event="userDataReady",window.dataLayer.push(t),window.dataLayer.push(e)},i.addEventListener("error",function(){window.dataLayer.push(e)}),i.send()}},{key:"disconnectedCallback",value:function(){clearInterval(this.refreshTimer)}},{key:"debugTools",value:function(){var e=this;this.shadowRoot.getElementById("debug-tools").appendChild(qt.content.cloneNode(!0)),this.shadowRoot.getElementById("toast").addEventListener("click",function(t){e.addToast("hello world")}),this.shadowRoot.getElementById("modal").addEventListener("click",function(t){var n=e.$game.querySelector("game-modal");n.textContent="hello plz",n.setAttribute("open","")}),this.shadowRoot.getElementById("reveal").addEventListener("click",function(){e.evaluateRow()}),this.shadowRoot.getElementById("shake").addEventListener("click",function(){e.$board.querySelectorAll("game-row")[e.rowIndex].setAttribute("invalid","")}),this.shadowRoot.getElementById("bounce").addEventListener("click",function(){var t=e.$board.querySelectorAll("game-row")[e.rowIndex-1];""===t.getAttribute("win")?t.removeAttribute("win"):t.setAttribute("win","")})}}]),o}();customElements.define("game-app",Bt);var Vt=document.createElement("template");Vt.innerHTML="\n  <style>\n    .overlay {\n      display: none;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      justify-content: center;\n      align-items: center;\n      background-color: var(--opacity-50);\n      z-index: ".concat(3e3,';\n    }\n\n    :host([open]) .overlay {\n      display: flex;\n    }\n\n    .content {\n      position: relative;\n      border-radius: 8px;\n      border: 1px solid var(--color-tone-6);\n      background-color: var(--modal-content-bg);\n      color: var(--color-tone-1);\n      box-shadow: 0 4px 23px 0 rgba(0, 0, 0, 0.2);\n      width: 90%;\n      max-height: 90%;\n      overflow-y: auto;\n      animation: SlideIn 200ms;\n      max-width: var(--game-max-width);\n      padding: 16px;\n      box-sizing: border-box;\n    }\n\n    .content.closing {\n      animation: SlideOut 200ms;\n    }\n\n    .close-icon {\n      width: 24px;\n      height: 24px;\n      position: absolute;\n      top: 16px;\n      right: 16px;\n    }\n\n    game-icon {\n      position: fixed;\n      user-select: none;\n      cursor: pointer;\n    }\n\n    @keyframes SlideIn {\n      0% {\n        transform: translateY(30px);\n        opacity: 0;\n      }\n      100% {\n        transform: translateY(0px);\n        opacity: 1;\n      }\n    }\n    @keyframes SlideOut {\n      0% {\n        transform: translateY(0px);\n        opacity: 1;\n      }\n      90% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 0;\n        transform: translateY(60px);\n      }\n    }\n  </style>\n  <div class="overlay">\n    <div class="content">\n      <slot></slot>\n      <div class="close-icon">\n        <game-icon icon="close"></game-icon>\n      </div>\n    </div>\n  </div>\n');var Yt=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(Vt.content.cloneNode(!0)),this.addEventListener("click",function(t){e.shadowRoot.querySelector(".content").classList.add("closing")}),this.shadowRoot.addEventListener("animationend",function(t){"SlideOut"===t.animationName&&(e.shadowRoot.querySelector(".content").classList.remove("closing"),e.removeChild(e.firstChild),e.removeAttribute("open"))})}}]),o}();customElements.define("game-modal",Yt);var Wt=document.createElement("template");Wt.innerHTML="\n  <style>\n  :host {\n    height: var(--keyboard-height);\n  }\n  #keyboard {\n    margin: 0 8px;\n    user-select: none;\n  }\n  \n  .row {\n    display: flex;\n    width: 100%;\n    margin: 0 auto 8px;\n    /* https://stackoverflow.com/questions/46167604/ios-html-disable-double-tap-to-zoom */\n    touch-action: manipulation;\n  }\n  \n  button {\n    font-family: inherit;\n    font-weight: bold;\n    border: 0;\n    padding: 0;\n    margin: 0 6px 0 0;\n    height: 58px;\n    border-radius: 4px;\n    cursor: pointer;\n    user-select: none;\n    background-color: var(--key-bg);\n    color: var(--key-text-color);\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-transform: uppercase;\n    -webkit-tap-highlight-color: rgba(0,0,0,0.3);\n  }\n\n  button:focus {\n    outline: none;\n  }\n\n  button.fade {\n    transition: background-color 0.1s ease, color 0.1s ease;\n  }\n  \n  button:last-of-type {\n    margin: 0;\n  }\n  \n  .half {\n    flex: 0.5;\n  }\n  \n  .one {\n    flex: 1;\n  }\n\n  .one-and-a-half {\n    flex: 1.5;\n    font-size: 12px;\n  }\n  \n  .two {\n    flex: 2;\n  }\n\n  button[data-state='correct'] {\n    background-color: var(--key-bg-correct);\n    color: var(--key-evaluated-text-color);\n  }\n\n  button[data-state='present'] {\n    background-color: var(--key-bg-present);\n    color: var(--key-evaluated-text-color);\n  }\n\n  button[data-state='absent'] {\n    background-color: var(--key-bg-absent);\n    color: var(--key-evaluated-text-color);\n  }\n\n  </style>\n  <div id=\"keyboard\"></div>\n";var Ut=document.createElement("template");Ut.innerHTML="\n  <button>key</button>\n";var Jt=document.createElement("template");Jt.innerHTML='\n  <div class="spacer"></div>\n';var Kt=[["0","1","2","3","4","5","6","7","8","9","{","}","_"],["q","w","e","r","t","y","u","i","o","p"],["-","a","s","d","f","g","h","j","k","l","-"],["↵","z","x","c","v","b","n","m","←"]],Xt=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),r(h(e=t.call(this)),"_letterEvaluations",{}),e.attachShadow({mode:"open"}),e}return a(o,[{key:"letterEvaluations",set:function(e){this._letterEvaluations=e,this._render()}},{key:"dispatchKeyPressEvent",value:function(e){this.dispatchEvent(new CustomEvent("game-key-press",{bubbles:!0,composed:!0,detail:{key:e}}))}},{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(Wt.content.cloneNode(!0)),this.$keyboard=this.shadowRoot.getElementById("keyboard"),this.$keyboard.addEventListener("click",function(t){var n=t.target.closest("button");n&&e.$keyboard.contains(n)&&e.dispatchKeyPressEvent(n.dataset.key)}),window.addEventListener("keydown",function(t){if(!0!==t.repeat){var n=t.key,o=t.metaKey,a=t.ctrlKey;o||a||(_t.includes(n.toLowerCase())||"Backspace"===n||"Enter"===n)&&e.dispatchKeyPressEvent(n)}}),this.$keyboard.addEventListener("transitionend",function(t){var n=t.target.closest("button");n&&e.$keyboard.contains(n)&&n.classList.remove("fade")}),Kt.forEach(function(t){var n=document.createElement("div");n.classList.add("row"),t.forEach(function(e){var t;if(e>="0"&&e<="9"||e>="a"&&e<="z"||"←"===e||"↵"===e||"{"===e||"}"===e||"_"===e){if((t=Ut.content.cloneNode(!0).firstElementChild).dataset.key=e,t.textContent=e,"←"===e){var o=document.createElement("game-icon");o.setAttribute("icon","backspace"),t.textContent="",t.appendChild(o),t.classList.add("one-and-a-half")}"↵"==e&&(t.textContent="enter",t.classList.add("one-and-a-half"))}else(t=Jt.content.cloneNode(!0).firstElementChild).classList.add(1===e.length?"half":"one");n.appendChild(t)}),e.$keyboard.appendChild(n)}),this._render()}},{key:"_render",value:function(){for(var e in this._letterEvaluations){var t=this.$keyboard.querySelector('[data-key="'.concat(e,'"]'));t.dataset.state=this._letterEvaluations[e],t.classList.add("fade")}}}]),o}();function Zt(e,t,n,o){return new(n||(n=Promise))(function(a,r){function i(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})}function Qt(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}customElements.define("game-keyboard",Xt),function(){(console.warn||console.log).apply(console,arguments)}.bind("[clipboard-polyfill]");var en,tn,nn,on,an="undefined"==typeof navigator?void 0:navigator,rn=null==an?void 0:an.clipboard;null===(en=null==rn?void 0:rn.read)||void 0===en||en.bind(rn),null===(tn=null==rn?void 0:rn.readText)||void 0===tn||tn.bind(rn);var sn=(null===(nn=null==rn?void 0:rn.write)||void 0===nn||nn.bind(rn),null===(on=null==rn?void 0:rn.writeText)||void 0===on?void 0:on.bind(rn)),ln="undefined"==typeof window?void 0:window,cn=(null==ln||ln.ClipboardItem,ln),dn=function(){this.success=!1};function un(e){var t=new dn,n=function(e,t,n){for(var o in e.success=!0,t){var a=t[o],r=n.clipboardData;r.setData(o,a),"text/plain"===o&&r.getData(o)!==a&&(e.success=!1)}n.preventDefault()}.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function hn(e,t){mn(e);var n=un(t);return pn(),n}function mn(e){var t=document.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}function pn(){var e=document.getSelection();e&&e.removeAllRanges()}function vn(e,t,n){try{mt()&&!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)&&void 0!==navigator.share&&navigator.canShare&&navigator.canShare(e)?navigator.share(e):function(e){return Zt(this,void 0,void 0,function(){return Qt(this,function(t){if(sn)return[2,sn(e)];if(!function(e){return Zt(this,void 0,void 0,function(){var t;return Qt(this,function(n){if(t="text/plain"in e,"undefined"==typeof ClipboardEvent&&void 0!==cn.clipboardData&&void 0!==cn.clipboardData.setData){if(!t)throw new Error("No `text/plain` value was specified.");if(o=e["text/plain"],cn.clipboardData.setData("Text",o))return[2,!0];throw new Error("Copying failed, possibly because the user rejected it.")}var o;return un(e)||navigator.userAgent.indexOf("Edge")>-1||hn(document.body,e)||function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=hn(t,e);return document.body.removeChild(t),n}(e)||function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(n=t.attachShadow({mode:"open"}));var o=document.createElement("span");o.innerText=e,n.appendChild(o),document.body.appendChild(t),mn(o);var a=document.execCommand("copy");return pn(),document.body.removeChild(t),a}(e["text/plain"])?[2,!0]:[2,!1]})})}(function(e){var t={};return t["text/plain"]=e,t}(e)))throw new Error("writeText() failed");return[2]})})}(e.text).then(t,n)}catch(e){n()}}var fn=document.createElement("template");fn.innerHTML='\n  <style>\n    .container {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 16px 0; \n    }\n    h1 {\n      font-weight: 700;\n      font-size: 16px;\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n      text-align: center;\n      margin-bottom: 10px;\n    }\n  \n    #statistics {\n      display: flex;\n      margin-bottom: \n    }\n\n    .statistic-container {\n      flex: 1;\n    }\n\n    .statistic-container .statistic {\n      font-size: 36px;\n      font-weight: 400;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      letter-spacing: 0.05em;\n      font-variant-numeric: proportional-nums;\n    }\n\n    .statistic.timer {\n      font-variant-numeric: initial;\n    }\n\n    .statistic-container .label {\n      font-size: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n    }\n\n    #guess-distribution {\n      width: 80%;\n    }\n\n    .graph-container {\n      width: 100%;\n      height: 20px;\n      display: flex;\n      align-items: center;\n      padding-bottom: 4px;\n      font-size: 14px;\n      line-height: 20px;\n    }\n\n    .graph-container .graph {\n      width: 100%;\n      height: 100%;\n      padding-left: 4px;\n    }\n\n    .graph-container .graph .graph-bar {\n      height: 100%;\n      /* Assume no wins */\n      width: 0%;\n      position: relative;\n      background-color: var(--color-absent);\n      display: flex;\n      justify-content: center;\n    }\n\n    .graph-container .graph .graph-bar.highlight {\n      background-color: var(--color-correct);\n    }\n\n    .graph-container .graph .graph-bar.align-right {\n      justify-content: flex-end;\n      padding-right: 8px;\n    }\n\n    .graph-container .graph .num-guesses {\n      font-weight: bold;\n      color: var(--tile-text-color);\n    }\n\n    #statistics,\n    #guess-distribution {\n      padding-bottom: 10px;\n    }\n\n    .footer {\n      display: flex;\n      width: 100%;\n    }\n\n    .countdown {\n      border-right: 1px solid var(--color-tone-1);\n      padding-right: 12px;\n      width: 50%;\n    }\n\n    .share {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      padding-left: 12px;\n      width: 50%;\n    }\n\n    .no-data {\n      text-align: center;\n    }\n\n    button#share-button {\n      background-color: var(--key-bg-correct);\n      color: var(--key-evaluated-text-color);\n      font-family: inherit;\n      font-weight: bold;\n      border-radius: 4px;\n      cursor: pointer;\n      border: none;\n      user-select: none;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      text-transform: uppercase;\n      -webkit-tap-highlight-color: rgba(0,0,0,0.3);\n      width: 80%;\n      font-size: 20px;\n      height: 52px;\n      -webkit-filter: brightness(100%);\n    }\n    button#share-button:hover {\n      opacity: 0.9;\n    }\n    button#share-button game-icon {\n      width: 24px;\n      height: 24px;\n      padding-left: 8px;\n    }\n  </style>\n\n  <div class="container">\n    <h1>Statistics</h1>\n    <div id="statistics"></div>\n    <h1>Guess Distribution</h1>\n    <div id="guess-distribution"></div>\n    <div class="footer"></div>\n  </div>\n';var gn=document.createElement("template");gn.innerHTML='\n  <div class="statistic-container">\n    <div class="statistic"></div>\n    <div class="label"></div>\n  </div>\n';var bn=document.createElement("template");bn.innerHTML='\n    <div class="graph-container">\n      <div class="guess"></div>\n      <div class="graph">\n        <div class="graph-bar">\n          <div class="num-guesses">\n        </div>\n      </div>\n      </div>\n    </div>\n';var yn=document.createElement("template");yn.innerHTML='\n  <div class="countdown">\n    <h1>Next FLAGLE</h1>\n    <div id="timer">\n      <div class="statistic-container">\n        <div class="statistic timer">\n          <countdown-timer></countdown-timer>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="share">\n    <button id="share-button">\n      Share <game-icon icon="share"></game-icon>\n    </button>\n  </div>\n';var wn={currentStreak:"Current Streak",maxStreak:"Max Streak",winPercentage:"Win %",gamesPlayed:"Played",gamesWon:"Won",averageGuesses:"Av. Guesses"},xn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),r(h(e=t.call(this)),"stats",{}),r(h(e),"gameApp",void 0),e.attachShadow({mode:"open"}),e.stats=It(),e}return a(o,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(fn.content.cloneNode(!0));var t=this.shadowRoot.getElementById("statistics"),n=this.shadowRoot.getElementById("guess-distribution"),o=Math.max.apply(Math,function(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Object.values(this.stats.guesses)));if(Object.values(this.stats.guesses).every(function(e){return 0===e})){var a=document.createElement("div");a.classList.add("no-data"),a.innerText="No Data",n.appendChild(a)}else for(var r=1;r<Object.keys(this.stats.guesses).length;r++){var i=r,s=this.stats.guesses[r],l=bn.content.cloneNode(!0),c=Math.max(7,Math.round(s/o*100));l.querySelector(".guess").textContent=i;var d=l.querySelector(".graph-bar");if(d.style.width="".concat(c,"%"),"number"==typeof s){l.querySelector(".num-guesses").textContent=s,s>0&&d.classList.add("align-right");var u=parseInt(this.getAttribute("highlight-guess"),10);u&&r===u&&d.classList.add("highlight")}n.appendChild(l)}if(["gamesPlayed","winPercentage","currentStreak","maxStreak"].forEach(function(n){var o=wn[n],a=e.stats[n],r=gn.content.cloneNode(!0);r.querySelector(".label").textContent=o,r.querySelector(".statistic").textContent=a,t.appendChild(r)}),this.gameApp.gameStatus!==Gt){var h=this.shadowRoot.querySelector(".footer"),m=yn.content.cloneNode(!0);h.appendChild(m),this.shadowRoot.querySelector("button#share-button").addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),vn(function(e){var t=e.evaluations,n=e.rowIndex,o=e.isHardMode,a=e.isWin,r=JSON.parse(window.localStorage.getItem(x)),i=JSON.parse(window.localStorage.getItem(k)),s="Flagle 1";s+=" ".concat(a?n:"X","/").concat(6),o&&(s+="*");var l="";return t.forEach(function(e){e&&(e.forEach(function(e){if(e){var t="";switch(e){case yt:t=i?"🟧":"🟩";break;case bt:t=i?"🟦":"🟨";break;case"absent":t=r?"⬛":"⬜"}l+=t}}),l+="\n")}),{text:"".concat(s,"\n\n").concat(l.trimEnd())}}({evaluations:e.gameApp.evaluations,dayOffset:e.gameApp.dayOffset,rowIndex:e.gameApp.rowIndex,isHardMode:e.gameApp.hardMode,isWin:e.gameApp.gameStatus===Dt}),function(){e.gameApp.addToast("Copied results to clipboard",2e3,!0)},function(){e.gameApp.addToast("Share failed",2e3,!0)})})}}}]),o}();customElements.define("game-stats",xn);var kn=document.createElement("template"),Sn=[{id:"spelling-bee",name:"Spelling Bee",url:"/puzzles/spelling-bee",backgroundImage:"var(--spelling-bee)"},{id:"crossword",name:"The Crossword",url:"/crosswords/game/daily",backgroundImage:"var(--daily)"},{id:"mini",name:"The Mini",url:"/crosswords/game/mini",backgroundImage:"var(--mini)"},{id:"tiles",name:"Tiles",url:"/puzzles/tiles",backgroundImage:"var(--tiles)"},{id:"sudoku",name:"Sudoku",url:"/puzzles/sudoku",backgroundImage:"var(--sudoku)"},{id:"vertex",name:"Vertex",url:"/puzzles/vertex",backgroundImage:"var(--vertex)"},{id:"letter-boxed",name:"Letter Boxed",url:"/puzzles/letter-boxed",backgroundImage:"var(--letter-boxed)"},{id:"all-games",name:"All Games",url:"/puzzles"}].map(function(e){return"\n    <a href=".concat(e.url," id=").concat(e.id,'>\n      <div class="nav-item" style="--hover-color: var(--color-nav-hover)">\n        <span style="background-image: ').concat(e.backgroundImage,'; background-size: 20px;"class="nav-icon"></span>\n          ').concat(e.name," \n      </div>\n    </a>\n    ")}).join("");kn.innerHTML="\n  <style>\n    .container {\n      display: flex;\n      flex-direction: column;\n      align-items: left;\n      justify-content: center;\n    }\n    h1 {\n      font-weight: 700;\n      font-size: 16px;\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n      text-align: center;\n      margin-bottom: 10px;\n    }\n\n    .nav-container {\n      flex: 1;\n    }\n\n    .nav-container .nav {\n      font-size: 36px;\n      font-weight: 400;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n      letter-spacing: 0.05em;\n      font-variant-numeric: proportional-nums;\n    }\n\n    .nav-container .label {\n      font-size: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      text-align: center;\n    }\n\n    .nav-list {\n        list-style: none;\n        color: var(--color-tone-1);\n        padding: unset;\n        margin: unset;\n    }\n\n    .nav-item {\n        display: flex;\n        justify-content: left;\n        align-items: center;\n        height: 40px;\n        font-weight: 500;\n        font-family: 'nyt-franklin';\n        font-size: 16px;\n        line-height: 16px;\n        padding-left: 18px;\n    }\n\n    .nav-item:hover {\n        background-color: var(--hover-color);\n    }\n\n    .nav-icon {\n        padding-bottom: 2px;\n        content: '';\n        height: 20px;\n        width: 28px;\n        padding-right: 8px;\n        display: inline-block;\n        vertical-align: middle;\n        background-repeat: no-repeat;\n    }\n\n    #nav {\n      padding-bottom: 10px;\n    }\n\n    a {\n        text-decoration: none;\n        color: inherit;\n    }\n\n    .more-text {\n        font-family: 'nyt-franklin-700';\n        font-weight: 700;\n        text-transform: uppercase;\n        font-size: 12px;\n        line-height: 12px;\n        margin: 32px 0px 24px 0px;\n        padding-left: 18px;\n    }\n\n    .nav-header {\n        padding-top: 18px;\n        padding-left: 18px;\n    }\n\n    .privacy {\n      letter-spacing: .5px;\n      font-family: 'nyt-franklin';\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      margin: 0px 25px 0px 17px;\n      padding: 12px 0px;\n      border-top: 1px solid #DCDCDC;\n      color: var(--color-tone-1);\n      font-size: 15px;\n      text-align: right;\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-end;\n    }\n  </style>\n\n  <div class=\"container\">\n    <span class=\"nav-header\">\n        <nyt-icon></nyt-icon>\n    </span>\n    <span class=\"more-text\">More New York Times Games</span>\n    <div class=\"nav-list\">".concat(Sn,'</div>\n    <div class="privacy">\n      <a href="https://www.nytimes.com/privacy/privacy-policy" onmouseover="this.style.textDecoration=\'underline\';" \n      onmouseout="this.style.textDecoration=\'none\';">\n        Privacy Policy\n      </a>\n    </div>\n  </div>\n');var Cn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),r(h(e=t.call(this)),"gameApp",void 0),e.attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){this.shadowRoot.appendChild(kn.content.cloneNode(!0))}}]),o}();customElements.define("game-nav",Cn);var En=document.createElement("template");En.innerHTML="\n  <style>\n    .overlay-nav {\n      display: none;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      z-index: ".concat(3e3,';\n      background-color: transparent;\n      justify-content: left;\n      align-items: unset;\n    }\n\n    :host([open]) .overlay-nav {\n      display: flex;\n    }\n\n    .content-nav {\n      position: relative;\n      border: 1px solid var(--color-tone-6);\n      background-color: var(--modal-content-bg);\n      color: var(--color-tone-1);\n      overflow-y: auto;\n      animation: SlideRight 200ms;\n      max-width: var(--game-max-width);\n      box-sizing: border-box;\n      width: 100%;\n      border-radius: 0px;\n      box-shadow: 3px 5px 5px rgba(0, 0, 0, 0.15);\n      max-height: calc(100% - var(--header-height) - 1px);\n      margin-top: calc(var(--header-height) + 1px);\n      padding: 0px;\n    }\n\n    @media (min-width: 415px) {\n      .content-nav {\n        width: 375px;\n      }\n    }\n\n    .content-nav.closing-nav {\n      animation: SlideLeft 200ms;\n    }\n\n    .close-icon-nav {\n      width: 24px;\n      height: 24px;\n      position: absolute;\n      top: 16px;\n      right: 16px;\n    }\n\n    game-icon {\n      position: fixed;\n      user-select: none;\n      cursor: pointer;\n    }\n\n    @keyframes SlideRight {\n      0% {\n        transform: translateX(-100px);\n        opacity: 0;\n      }\n      100% {\n        transform: translateX(0px);\n        opacity: 1;\n      }\n    }\n    @keyframes SlideLeft {\n      0% {\n        transform: translateX(0px);\n        opacity: 1;\n      }\n      90% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 0;\n        transform: translateX(-200px);\n      }\n    }\n  </style>\n  <div class="overlay-nav">\n    <div class="content-nav">\n      <slot></slot>\n      <div class="close-icon-nav">\n        <game-icon icon="close"></game-icon>\n      </div>\n    </div>\n  </div>\n');var _n=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(En.content.cloneNode(!0)),this.addEventListener("click",function(t){e.shadowRoot.querySelector(".content-nav").classList.add("closing-nav")}),this.shadowRoot.addEventListener("animationend",function(t){"SlideLeft"===t.animationName&&(e.shadowRoot.querySelector(".content-nav").classList.remove("closing-nav"),e.removeChild(e.firstChild),e.removeAttribute("open"))})}}]),o}();customElements.define("game-nav-modal",_n);var Ln=document.createElement("template");Ln.innerHTML='\n  <style>\n    :host {\n    }\n    .container {\n      display: flex;\n      justify-content: space-between;\n    }\n    .switch {\n      height: 20px;\n      width: 32px;\n      vertical-align: middle;\n      /* not quite right */\n      background: var(--color-tone-3);\n      border-radius: 999px;\n      display: block;\n      position: relative;\n    }\n    .knob {\n      display: block;\n      position: absolute;\n      left: 2px;\n      top: 2px;\n      height: calc(100% - 4px);\n      width: 50%;\n      border-radius: 8px;\n      background: var(--white);\n      transform: translateX(0);\n      transition: transform 0.3s;\n    }\n    :host([checked]) .switch {\n      background: var(--color-correct);\n    }\n    :host([checked]) .knob {\n      transform: translateX(calc(100% - 4px));\n    }\n    :host([disabled]) .switch {\n      opacity: 0.5;\n    }\n  </style>\n  <div class="container">\n    <label><slot></slot></label>\n    <div class="switch">\n      <span class="knob"></div>\n    </div>\n  </div>\n';var Tn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(Ln.content.cloneNode(!0)),this.shadowRoot.querySelector(".container").addEventListener("click",function(t){t.stopPropagation(),e.hasAttribute("checked")?e.removeAttribute("checked"):e.setAttribute("checked",""),e.dispatchEvent(new CustomEvent("game-switch-change",{bubbles:!0,composed:!0,detail:{name:e.getAttribute("name"),checked:e.hasAttribute("checked"),disabled:e.hasAttribute("disabled")}}))})}}],[{key:"observedAttributes",get:function(){return["checked"]}}]),o}();customElements.define("game-switch",Tn);var An=document.createElement("template");An.innerHTML='\n  <style>\n  .instructions {\n    font-size: 14px;\n    color: var(--color-tone-1)\n  }\n\n  .examples {\n    border-bottom: 1px solid var(--color-tone-4);\n    border-top: 1px solid var(--color-tone-4);\n  }\n\n  .example {\n    margin-top: 24px;\n    margin-bottom: 24px;\n  }\n\n  game-tile {\n    width: 40px;\n    height: 40px;\n  }\n\n  :host([page]) section {\n    padding: 16px;\n    padding-top: 0px;\n  }\n\n  </style>\n  <section>\n    <div class="instructions">\n      <p>Guess the <strong>WORDLE</strong> in six tries.</p>\n      <p>Each guess must be a valid five-letter word. Hit the enter button to submit.</p>\n      <p>After each guess, the color of the tiles will change to show how close your guess was to the word.</p>\n      <div class="examples">\n        <p><strong>Examples</strong></p>\n        <div class="example">\n          <div class="row">\n            <game-tile letter="w" evaluation="correct" reveal></game-tile>\n            <game-tile letter="e"></game-tile>\n            <game-tile letter="a"></game-tile>\n            <game-tile letter="r"></game-tile>\n            <game-tile letter="y"></game-tile>\n          </div>\n          <p>The letter <strong>W</strong> is in the word and in the correct spot.</p>\n        </div>\n        <div class="example">\n          <div class="row">\n            <game-tile letter="p"></game-tile>\n            <game-tile letter="i" evaluation="present" reveal></game-tile>\n            <game-tile letter="l"></game-tile>\n            <game-tile letter="l"></game-tile>\n            <game-tile letter="s"></game-tile>\n          </div>\n          <p>The letter <strong>I</strong> is in the word but in the wrong spot.</p>\n        </div>\n        <div class="example">\n          <div class="row">\n            <game-tile letter="v"></game-tile>\n            <game-tile letter="a"></game-tile>\n            <game-tile letter="g"></game-tile>\n            <game-tile letter="u" evaluation="absent" reveal></game-tile>\n            <game-tile letter="e"></game-tile>\n          </div>\n          <p>The letter <strong>U</strong> is not in the word in any spot.</p>\n        </div>\n      </div>\n      <p><strong>A new WORDLE will be available each day!<strong></p>\n    </div>\n  </section>\n';var In=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){this.shadowRoot.appendChild(An.content.cloneNode(!0))}}]),o}();customElements.define("game-help",In);var Mn=document.createElement("template");Mn.innerHTML="\n  <style>\n    .overlay {\n      display: none;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      justify-content: center;\n      background-color: var(--color-background);\n      animation: SlideIn 100ms linear;\n      z-index: ".concat(2e3,';\n    }\n\n    :host([open]) .overlay {\n      display: flex;\n    }\n\n    .content {\n      position: relative;\n      color: var(--color-tone-1);\n      padding: 0 32px;\n      max-width: var(--game-max-width);\n      width: 100%;\n      overflow-y: auto;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n    }\n\n    .content-container {\n      height: 100%;\n    }\n\n    .overlay.closing {\n      animation: SlideOut 150ms linear;\n    }\n\n    header {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: relative;\n    }\n\n    h1 {\n      font-weight: 700;\n      font-size: 16px;\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n      text-align: center;\n      margin-bottom: 10px;\n    }\n\n    game-icon {\n      position: absolute;\n      right: 0;\n      user-select: none;\n      cursor: pointer;\n    }\n\n    @media only screen and (min-device-width : 320px) and (max-device-width : 480px) {\n      .content {\n        max-width: 100%;\n        padding: 0;\n      }\n      game-icon {\n        padding: 0 16px;\n      }\n    }\n\n    @keyframes SlideIn {\n      0% {\n        transform: translateY(30px);\n        opacity: 0;\n      }\n      100% {\n        transform: translateY(0px);\n        opacity: 1;\n      }\n    }\n    @keyframes SlideOut {\n      0% {\n        transform: translateY(0px);\n        opacity: 1;\n      }\n      90% {\n        opacity: 0;\n      }\n      100% {\n        opacity: 0;\n        transform: translateY(60px);\n      }\n    }\n  </style>\n  <div class="overlay">\n    <div class="content">\n      <header>\n        <h1><slot></slot></h1>\n        <game-icon icon="close"></game-icon>\n      </header>\n      <div class="content-container">\n        <slot name="content"></slot>\n      </div>\n    </div>\n  </div>\n');var jn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(Mn.content.cloneNode(!0)),this.shadowRoot.querySelector("game-icon").addEventListener("click",function(t){e.shadowRoot.querySelector(".overlay").classList.add("closing")}),this.shadowRoot.addEventListener("animationend",function(t){"SlideOut"===t.animationName&&(e.shadowRoot.querySelector(".overlay").classList.remove("closing"),Array.from(e.childNodes).forEach(function(t){e.removeChild(t)}),e.removeAttribute("open"))})}}]),o}();customElements.define("game-page",jn);var Rn=document.createElement("template");Rn.innerHTML='\n  <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">\n    <path fill=var(--color-tone-1) />\n  </svg>\n';var zn={help:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z",settings:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z",backspace:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7.07L2.4 12l4.66-7H22v14zm-11.59-2L14 13.41 17.59 17 19 15.59 15.41 12 19 8.41 17.59 7 14 10.59 10.41 7 9 8.41 12.59 12 9 15.59z",close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",share:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z",statistics:"M16,11V3H8v6H2v12h20V11H16z M10,5h4v14h-4V5z M4,11h4v8H4V11z M20,19h-4v-6h4V19z"},Hn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){this.shadowRoot.appendChild(Rn.content.cloneNode(!0));var e=this.getAttribute("icon");this.shadowRoot.querySelector("path").setAttribute("d",zn[e]),"backspace"===e&&this.shadowRoot.querySelector("path").setAttribute("fill","var(--color-tone-1)"),"share"===e&&this.shadowRoot.querySelector("path").setAttribute("fill","var(--white)")}}]),o}();customElements.define("game-icon",Hn);var On=document.createElement("template");On.innerHTML='\n  <a href="https://nytimes.com/puzzles">\n  <svg\n    className="pz-nav__logo"\n    width="95"\n    height="18"\n    viewBox="0 0 138 25"\n    fill="none"\n    xmlns="http://www.w3.org/2000/svg"\n    aria-label="New York Times Games Logo. Click for more puzzles"\n  >\n    <rect width="138" height="25" fill="none" />\n    <path\n      d="M42.4599 1.03519C44.219 1.00558 45.9577 1.41634 47.5176 2.23008V1.45245H53.4162V8.80515H47.5239C47.1067 7.03494 46.3607 6.2257 44.5904 6.2257C42.365 6.23834 41.0058 7.86947 41.0058 12.4151C41.0058 17.3148 42.2386 18.8827 45.0077 18.8827C45.7187 18.8975 46.4203 18.7183 47.0371 18.3643V16.2211H45.2037V11.9283H53.4225V24.0543H48.3648V22.9289C46.902 24.0012 45.1195 24.5471 43.307 24.4778C36.9216 24.4778 32.4392 20.2546 32.4392 12.4214C32.4708 5.2584 36.9849 1.03519 42.4599 1.03519Z"\n      fill=var(--color-tone-1)\n    />\n    <path\n      d="M59.8645 24.3471C56.3494 24.3471 54.2883 22.4505 54.2883 19.2198C54.2883 15.9892 56.7097 13.9345 60.541 13.9345C61.9923 13.9222 63.4232 14.2767 64.701 14.965C64.6377 13.2264 63.3164 12.0947 60.8634 12.0947C59.0925 12.1015 57.3477 12.5215 55.7677 13.3212V9.25608C58.149 8.58084 60.6136 8.24457 63.0888 8.25718C69.7966 8.25718 72.0853 11.1907 72.0853 13.7701V19.8647H73.4382V24.0563H64.7705V22.5074C63.544 23.8603 61.7359 24.3471 59.8645 24.3471ZM64.859 18.8658C64.888 18.6431 64.8655 18.4166 64.7931 18.204C64.7207 17.9914 64.6005 17.7982 64.4417 17.6394C64.2829 17.4805 64.0897 17.3603 63.877 17.288C63.6644 17.2156 63.438 17.193 63.2153 17.222C62.1215 17.222 61.3755 17.7721 61.3755 18.8974C61.3755 20.0228 62.0077 20.478 63.1836 20.478C64.3596 20.478 64.8653 19.9911 64.8653 18.8848L64.859 18.8658Z"\n      fill=var(--color-tone-1)\n    />\n    <path\n      d="M75.8371 19.8644V12.7709H74.5726V8.57927H83.1455V10.2546C85.1433 8.73732 86.2055 8.25684 87.786 8.25684C89.7206 8.25684 90.8839 8.80687 92.3949 10.3874C94.3611 8.83848 95.7456 8.25684 97.4526 8.25684C100.614 8.25684 102.801 10.419 102.801 13.2197V19.858H104.066V24.0496H95.5054V14.6739C95.5054 13.4473 95.0249 12.7772 94.1841 12.7772C93.3432 12.7772 92.9576 13.4094 92.9576 14.6739V19.8644H94.0513V24.056H85.6681V14.6106C85.6681 13.5169 85.1497 12.7709 84.4036 12.7709C83.6576 12.7709 83.1392 13.479 83.1392 14.6106V19.8644H84.2646V24.056H74.5474V19.8644H75.8371Z"\n      fill=var(--color-tone-1)\n    />\n    <path\n      d="M113.781 24.3784C111.46 24.3784 108.881 23.8979 107.073 22.2858C106.216 21.5344 105.534 20.6058 105.072 19.5643C104.61 18.5229 104.38 17.3935 104.398 16.2544C104.398 11.1967 108.432 8.25684 113.25 8.25684C118.453 8.25684 121.924 11.93 121.924 16.3555C121.924 16.874 121.892 17.3545 121.86 17.8729H111.745C111.941 19.681 112.908 20.4839 114.387 20.4839C114.871 20.4803 115.347 20.3544 115.769 20.1178C116.191 19.8813 116.547 19.5418 116.803 19.131H121.86C120.773 22.6777 117.498 24.3784 113.781 24.3784ZM111.688 15.5273H115.481V15.1417C115.481 13.8204 115.159 12.4674 113.585 12.4674C113.201 12.4558 112.824 12.5691 112.51 12.7903C112.197 13.0115 111.964 13.3286 111.846 13.6939C111.68 14.2856 111.624 14.9028 111.682 15.5147L111.688 15.5273Z"\n      fill=var(--color-tone-1)\n    />\n    <path\n      d="M126.195 24.059H122.712V18.8875H126.164C126.581 20.2404 127.131 20.9485 128.452 20.9485C129.451 20.9485 130.064 20.5313 130.064 19.7536C130.064 19.2036 129.71 18.7863 129.034 18.4892L125.683 17.073C124.909 16.7631 124.246 16.2281 123.779 15.5371C123.313 14.8462 123.064 14.0312 123.066 13.1975C123.066 10.5549 125.677 8.23462 128.964 8.23462C130.352 8.25084 131.718 8.58156 132.96 9.20191V8.5697H136.469V13.4062H133.244C132.954 11.9584 132.372 11.244 131.215 11.244C130.374 11.244 129.729 11.6612 129.729 12.3377C129.729 12.9194 130.115 13.3998 130.924 13.7223L134.212 14.9867C136.374 15.8276 137.373 17.2121 137.373 19.0835C137.373 22.0486 134.844 24.3372 131.215 24.3372C129.603 24.3372 128.477 24.078 126.157 23.2435L126.195 24.059Z"\n      fill=var(--color-tone-1)\n    />\n    <path\n      d="M25.9544 1.46704H25.3601V24.0372H25.9544V1.46704Z"\n      fill=var(--color-tone-1)\n    />\n    <path\n      d="M19.2574 15.4535C18.8889 16.497 18.3042 17.4509 17.5416 18.2527C16.7789 19.0546 15.8555 19.6863 14.8318 20.1066V15.4535L17.3607 13.1586L14.8318 10.8952V7.69619C15.8763 7.67489 16.8715 7.24792 17.6067 6.50567C18.3419 5.76342 18.7593 4.76418 18.7706 3.71953C18.7706 0.975708 16.1532 0.00209168 14.6675 0.00209168C14.2653 -0.0102783 13.8633 0.0322617 13.4726 0.128535V0.261301C13.6686 0.261301 13.9594 0.22969 14.0542 0.22969C15.0847 0.22969 15.8624 0.716498 15.8624 1.65218C15.8562 1.85411 15.809 2.05266 15.7235 2.23571C15.638 2.41875 15.5161 2.58244 15.3652 2.71677C15.2143 2.85109 15.0376 2.95323 14.8459 3.01695C14.6542 3.08066 14.4515 3.1046 14.2502 3.08732C11.7213 3.08732 8.693 1.01996 5.43075 1.01996C2.52255 1.00732 0.537385 3.17583 0.537385 5.36962C0.537385 7.56342 1.80182 8.24622 3.12316 8.7267L3.15477 8.60026C2.91743 8.45028 2.72511 8.23886 2.59822 7.98842C2.47133 7.73797 2.41459 7.45785 2.43404 7.17777C2.4493 6.92796 2.51386 6.68363 2.62398 6.45888C2.73411 6.23414 2.88763 6.03341 3.07569 5.86826C3.26375 5.70312 3.48264 5.57683 3.71973 5.49668C3.95683 5.41652 4.20745 5.38408 4.45714 5.40124C7.20096 5.40124 11.6265 7.69619 14.3766 7.69619H14.6359V10.9268L12.107 13.1586L14.6359 15.4535V20.1572C13.5788 20.533 12.4638 20.7192 11.342 20.7072C7.07452 20.7072 4.38759 18.1215 4.38759 13.8287C4.37897 12.8127 4.51955 11.8009 4.80486 10.8257L6.93543 9.88999V19.3733L11.2661 17.4766V7.75941L4.88072 10.6044C5.17861 9.73458 5.646 8.93247 6.25588 8.24446C6.86575 7.55645 7.606 6.99621 8.43379 6.59613L8.40218 6.5013C4.13471 7.43698 0 10.6739 0 15.5167C0 21.1055 4.71635 25 10.2103 25C16.0267 25 19.3206 21.1245 19.3522 15.4725L19.2574 15.4535Z"\n      fill=var(--color-tone-1)\n    />\n  </svg>\n  </a>\n';var Nn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){this.shadowRoot.appendChild(On.content.cloneNode(!0))}}]),o}();customElements.define("nyt-icon",Nn);var Pn=document.createElement("template");Pn.innerHTML='\n<svg width="21" height="17" viewBox="0 0 21 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect x="0.172974" width="20" height="3" rx="1.5" fill=var(--color-tone-1) />\n    <rect x="0.172974" y="7" width="20" height="3" rx="1.5" fill=var(--color-tone-1) />\n    <rect x="0.172974" y="14" width="20" height="3" rx="1.5" fill=var(--color-tone-1) />\n</svg>\n';var qn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;return n(this,o),(e=t.call(this)).attachShadow({mode:"open"}),e}return a(o,[{key:"connectedCallback",value:function(){this.shadowRoot.appendChild(Pn.content.cloneNode(!0))}}]),o}();customElements.define("nav-icon",qn);var Gn=document.createElement("template");Gn.innerHTML='\n  <div id="timer"></div>\n';var Dn=function(e){i(o,u(HTMLElement));var t=m(o);function o(){var e;n(this,o),r(h(e=t.call(this)),"targetEpochMS",void 0),r(h(e),"intervalId",void 0),r(h(e),"$timer",void 0),e.attachShadow({mode:"open"});var a=new Date;return a.setDate(a.getDate()+1),a.setHours(0,0,0,0),e.targetEpochMS=a.getTime(),e}return a(o,[{key:"padDigit",value:function(e){return e.toString().padStart(2,"0")}},{key:"updateTimer",value:function(){var e=(new Date).getTime(),t=Math.floor(this.targetEpochMS-e);if(t<=0)"00:00:00";else{var n=Math.floor(t%864e5/36e5),o=Math.floor(t%36e5/6e4),a=Math.floor(t%6e4/1e3);"".concat(this.padDigit(n),":").concat(this.padDigit(o),":").concat(this.padDigit(a))}this.$timer.textContent="NEVER!!"}},{key:"connectedCallback",value:function(){var e=this;this.shadowRoot.appendChild(Gn.content.cloneNode(!0)),this.$timer=this.shadowRoot.querySelector("#timer"),this.intervalId=setInterval(function(){e.updateTimer()},200)}},{key:"disconnectedCallback",value:function(){clearInterval(this.intervalId)}}]),o}();return customElements.define("countdown-timer",Dn),e.CountdownTimer=Dn,e.GameApp=Bt,e.GameHelp=In,e.GameIcon=Hn,e.GameKeyboard=Xt,e.GameModal=Yt,e.GameNav=Cn,e.GamePage=jn,e.GameRow=y,e.GameSettings=vt,e.GameStats=xn,e.GameSwitch=Tn,e.GameThemeManager=S,e.GameTile=g,e.GameToast=gt,e.NYTIcon=Nn,e.NavIcon=qn,e.NavModal=_n,Object.defineProperty(e,"__esModule",{value:!0}),e}({});